# Rebind the prefix
set-option -g prefix `
unbind-key C-b
bind-key ` send-prefix

# Allow switching back to Ctrl-a as a prefix if needed
bind F9 set-option -g prefix C-a
bind F12 set-option -g prefix `

# Key binds
bind | split-window -h
bind - split-window -v

# Allow us to reload the config file easily
bind r source-file ~/.tmux.conf \; display "Reloaded tmux config file."

# Bell and activity
set -g bell-action any
setw -g monitor-activity on

# Resize panes
bind -r h resize-pane -L 5
bind -r j resize-pane -D 5
bind -r u resize-pane -U 5
bind -r k resize-pane -R 5

# Reset the base index to be 1-based
set -g base-index 1
set -g pane-base-index 1

# Disable mouse mode by default
set -g mouse off

# Toggle mouse on
bind m \
  set -g mouse on \;\
  display 'Mouse: ON'

# Toggle mouse off
bind M \
  set -g mouse off \;\
  display 'Mouse: OFF'

# Faster command sequences
set -sg escape-time 0

# Better window sizing
setw -g aggressive-resize on

# Colors and theming
# ----------------------------------------------------------------

# Window title
set-option -g set-titles on
set-option -g set-titles-string '[#S:#I #H] #W'

# Full color support
set -g default-terminal "screen-256color"

# Default colors
set -g status-bg black
set -g status-fg white

# Left side of status bar
set -g status-left-length 20
set -g status-left '#[fg=blue][#[bg=black,fg=yellow]#S##[fg=blue]]'

# Inactive windows in status bar
set-window-option -g window-status-format '#[fg=white,dim]#I#[fg=blue]:#[fg=white]#W#[fg=grey,dim]#F'

# Current or active window in status bar
set-window-option -g window-status-current-format '#[bg=black,fg=white,bold]#I#[bg=black,fg=white]:#[fg=white]#W#[fg=dim]#F'

# Right side of status bar
set -g status-right '#[fg=blue][#[fg=white]#T#[fg=blue]][#[fg=white]%Y-%m-%d #[fg=white]%H:%M#[default]#[fg=blue]]'
